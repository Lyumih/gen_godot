[gd_scene load_steps=12 format=3 uid="uid://3sfjuf25228m"]

[ext_resource type="PackedScene" uid="uid://5qbvpm0ullpb" path="res://unit/player.tscn" id="1_8cc7s"]
[ext_resource type="Script" path="res://Battle.gd" id="2_5itrb"]
[ext_resource type="PackedScene" uid="uid://c6oh435c5qvwm" path="res://unit/enemy.tscn" id="2_8w6cc"]
[ext_resource type="Resource" uid="uid://6uemgng5dpyv" path="res://combat/jobs/Rogue.tres" id="2_l5806"]
[ext_resource type="PackedScene" uid="uid://cswloi0tus5fp" path="res://inventory/inventory.tscn" id="3_cnhd3"]
[ext_resource type="Resource" uid="uid://cmiyyxt5rga6f" path="res://combat/skills/PowerAttack.tres" id="3_jhky7"]
[ext_resource type="Resource" uid="uid://bbpwyphovjyt8" path="res://combat/skills/Heal.tres" id="4_kpl0p"]
[ext_resource type="PackedScene" uid="uid://1u74d5d8nucc" path="res://menu/menu.tscn" id="4_xhjyn"]
[ext_resource type="PackedScene" uid="uid://si7taig2uamb" path="res://unit/Actions.tscn" id="5_w7wqg"]
[ext_resource type="PackedScene" uid="uid://c4ijgivqc8cxa" path="res://history/History.tscn" id="9_roi5d"]
[ext_resource type="PackedScene" uid="uid://kscdultu6hj2" path="res://game_actions.tscn" id="10_b0pl6"]

[node name="World" type="Node2D"]

[node name="Menu" parent="." instance=ExtResource("4_xhjyn")]
visible = false
offset_left = 48.0
offset_top = 87.0
offset_right = 224.0
offset_bottom = 503.0

[node name="Battle" type="Node2D" parent="."]
script = ExtResource("2_5itrb")

[node name="Player" parent="Battle" instance=ExtResource("1_8cc7s")]
position = Vector2(256, 192)
STATS = ExtResource("2_l5806")
SKILLS = Array[Resource("res://combat/skills/SkillStats.gd")]([ExtResource("3_jhky7"), ExtResource("4_kpl0p"), ExtResource("4_kpl0p")])

[node name="GameActions" parent="Battle" instance=ExtResource("10_b0pl6")]
offset_left = 192.0
offset_top = 464.0
offset_right = 499.0
offset_bottom = 512.0

[node name="UnitActions" parent="Battle" instance=ExtResource("5_w7wqg")]
offset_left = 192.0
offset_top = 320.0
offset_right = 192.0
offset_bottom = 320.0

[node name="History" parent="Battle" instance=ExtResource("9_roi5d")]
offset_left = 664.0
offset_top = 352.0
offset_right = 1072.0
offset_bottom = 560.0

[node name="Inventory" parent="Battle" instance=ExtResource("3_cnhd3")]
visible = false
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 800.0
offset_top = 336.0
offset_right = 1128.0
offset_bottom = 544.0
grow_horizontal = 0
grow_vertical = 0
size_flags_horizontal = 0
size_flags_vertical = 8

[node name="EnemySpawn" type="Node2D" parent="Battle"]
position = Vector2(768, 192)

[node name="Enemy" parent="Battle" instance=ExtResource("2_8w6cc")]
position = Vector2(784, 192)

[connection signal="init_skills" from="Battle/Player" to="Battle/UnitActions" method="_on_player_init_skills"]
[connection signal="leave_battle" from="Battle/GameActions" to="Battle" method="_on_game_actions_leave_battle"]
[connection signal="search_enemy" from="Battle/GameActions" to="Battle" method="_on_game_actions_search_enemy"]
[connection signal="attacked" from="Battle/UnitActions" to="Battle/Player" method="_on_actions_attacked"]
[connection signal="skill_activated" from="Battle/UnitActions" to="Battle/Player" method="_on_actions_skill_activated"]
